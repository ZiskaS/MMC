{"ast":null,"code":"/*import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\n\n\nconst UserContext = createContext();\n\nexport function UserContextProvider({ children }) {\n  /*const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [authenticated, setAuthenticated] = useState(false); // Add authentication state\n\n  // Function to set the user and authentication state\n  const loginUser = (userData) => {\n    setUser(userData);\n    setAuthenticated(true);\n  };\n\n  // Function to log out\n  const logoutUser = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n    setAuthenticated(false);\n    navigate('/login');\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios\n        .get('https://thre-points.herokuapp.com/api/users/profile', {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((response) => {\n          if (response.status === 200) {\n            const userData = response.data;\n            loginUser(userData); // Set user and authentication state\n          } else {\n            localStorage.removeItem('token');\n            setUser(null);\n            setAuthenticated(false);\n            navigate('/login');\n          }\n        })\n        .catch((error) => {\n          console.error('Error:', error);\n        });\n    }\n  }, [navigate]);\n\n  const contextValue = {\n    user,\n    authenticated,\n    loginUser, // Provide these functions through context\n    logoutUser,\n  };\n*/\n/*\n  return <UserContext.Provider value={{}}>{children}</UserContext.Provider>;\n}*/\n\n/*export function useUserContext() {\n  return useContext(UserContext);\n}*/\n/*export default UserContextProvider;*/","map":{"version":3,"names":[],"sources":["/Users/Franziska/Desktop/Frontend Frameworks/REACT-excercise-4/my-dog-with-routes/src/contexts/user-context.jsx"],"sourcesContent":["/*import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\n\n\nconst UserContext = createContext();\n\nexport function UserContextProvider({ children }) {\n  /*const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [authenticated, setAuthenticated] = useState(false); // Add authentication state\n\n  // Function to set the user and authentication state\n  const loginUser = (userData) => {\n    setUser(userData);\n    setAuthenticated(true);\n  };\n\n  // Function to log out\n  const logoutUser = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n    setAuthenticated(false);\n    navigate('/login');\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios\n        .get('https://thre-points.herokuapp.com/api/users/profile', {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((response) => {\n          if (response.status === 200) {\n            const userData = response.data;\n            loginUser(userData); // Set user and authentication state\n          } else {\n            localStorage.removeItem('token');\n            setUser(null);\n            setAuthenticated(false);\n            navigate('/login');\n          }\n        })\n        .catch((error) => {\n          console.error('Error:', error);\n        });\n    }\n  }, [navigate]);\n\n  const contextValue = {\n    user,\n    authenticated,\n    loginUser, // Provide these functions through context\n    logoutUser,\n  };\n*/\n/*\n  return <UserContext.Provider value={{}}>{children}</UserContext.Provider>;\n}*/\n\n/*export function useUserContext() {\n  return useContext(UserContext);\n}*/\n/*export default UserContextProvider;*/\n\n\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}