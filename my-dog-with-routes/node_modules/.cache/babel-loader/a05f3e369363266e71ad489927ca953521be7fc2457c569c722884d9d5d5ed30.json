{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport axios from \"axios\";\nimport { useNavigate } from 'react-router-dom'; // Add this import\n\n// Function to send a POST request for login\nexport function login(username, password) {\n  return axios.post(\"https://three-points.herokuapp.com/api/login\", {\n    username,\n    password\n  }).then(response => {\n    // Assuming the response contains relevant data\n    return response.data;\n  }).catch(error => {\n    // Handle any login errors here, e.g., display an error message\n    throw error;\n  });\n}\nexport function getPostList() {\n  _s();\n  const navigate = useNavigate(); // Define navigate here\n  return axios.get(\"https://three-points.herokuapp.com/api/postList\", {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  }).then(response => response.data).catch(error => {\n    if (error.response && error.response.status === 401) {\n      // Handle 401 (Unauthorized) response here:\n      // Clear the token and redirect to the login page\n      localStorage.removeItem(\"token\");\n      navigate('/login'); // Use the navigate function here\n    }\n\n    throw error;\n  });\n}\n_s(getPostList, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\nexport function getProfile() {\n  _s2();\n  const navigate = useNavigate(); // Define navigate here\n  return axios.get(\"https://three-points.herokuapp.com/api/profile\", {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  }).then(response => response.data).catch(error => {\n    if (error.response && error.response.status === 401) {\n      // Handle 401 (Unauthorized) response here:\n      // Clear the token and redirect to the login page\n      localStorage.removeItem(\"token\");\n      navigate('/login'); // Use the navigate function here\n    }\n\n    throw error;\n  });\n}\n_s2(getProfile, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["axios","useNavigate","login","username","password","post","then","response","data","catch","error","getPostList","_s","navigate","get","headers","Authorization","localStorage","getItem","status","removeItem","getProfile","_s2"],"sources":["/Users/Franziska/Desktop/Frontend Frameworks/REACT-excercise-4/my-dog-with-routes/src/service/dataservice.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useNavigate } from 'react-router-dom'; // Add this import\n\n// Function to send a POST request for login\nexport function login(username, password) {\n  return axios\n    .post(\"https://three-points.herokuapp.com/api/login\", {\n      username,\n      password,\n    })\n    .then((response) => {\n      // Assuming the response contains relevant data\n      return response.data;\n    })\n    .catch((error) => {\n      // Handle any login errors here, e.g., display an error message\n      throw error;\n    });\n}\n\nexport function getPostList() {\n  const navigate = useNavigate(); // Define navigate here\n  return axios\n    .get(\"https://three-points.herokuapp.com/api/postList\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    })\n    .then((response) => response.data)\n    .catch((error) => {\n      if (error.response && error.response.status === 401) {\n        // Handle 401 (Unauthorized) response here:\n        // Clear the token and redirect to the login page\n        localStorage.removeItem(\"token\");\n        navigate('/login'); // Use the navigate function here\n      }\n      throw error;\n    });\n}\n\nexport function getProfile() {\n  const navigate = useNavigate(); // Define navigate here\n  return axios\n    .get(\"https://three-points.herokuapp.com/api/profile\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    })\n    .then((response) => response.data)\n    .catch((error) => {\n      if (error.response && error.response.status === 401) {\n        // Handle 401 (Unauthorized) response here:\n        // Clear the token and redirect to the login page\n        localStorage.removeItem(\"token\");\n        navigate('/login'); // Use the navigate function here\n      }\n      throw error;\n    });\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB,CAAC,CAAC;;AAEhD;AACA,OAAO,SAASC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EACxC,OAAOJ,KAAK,CACTK,IAAI,CAAC,8CAA8C,EAAE;IACpDF,QAAQ;IACRC;EACF,CAAC,CAAC,CACDE,IAAI,CAAEC,QAAQ,IAAK;IAClB;IACA,OAAOA,QAAQ,CAACC,IAAI;EACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;IAChB;IACA,MAAMA,KAAK;EACb,CAAC,CAAC;AACN;AAEA,OAAO,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC,CAAC,CAAC;EAChC,OAAOD,KAAK,CACTc,GAAG,CAAC,iDAAiD,EAAE;IACtDC,OAAO,EAAE;MACPC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;IACzD;EACF,CAAC,CAAC,CACDZ,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CACjCC,KAAK,CAAEC,KAAK,IAAK;IAChB,IAAIA,KAAK,CAACH,QAAQ,IAAIG,KAAK,CAACH,QAAQ,CAACY,MAAM,KAAK,GAAG,EAAE;MACnD;MACA;MACAF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;MAChCP,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;IACtB;;IACA,MAAMH,KAAK;EACb,CAAC,CAAC;AACN;AAACE,EAAA,CAlBeD,WAAW;EAAA,QACRV,WAAW;AAAA;AAmB9B,OAAO,SAASoB,UAAUA,CAAA,EAAG;EAAAC,GAAA;EAC3B,MAAMT,QAAQ,GAAGZ,WAAW,CAAC,CAAC,CAAC,CAAC;EAChC,OAAOD,KAAK,CACTc,GAAG,CAAC,gDAAgD,EAAE;IACrDC,OAAO,EAAE;MACPC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;IACzD;EACF,CAAC,CAAC,CACDZ,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CACjCC,KAAK,CAAEC,KAAK,IAAK;IAChB,IAAIA,KAAK,CAACH,QAAQ,IAAIG,KAAK,CAACH,QAAQ,CAACY,MAAM,KAAK,GAAG,EAAE;MACnD;MACA;MACAF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;MAChCP,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;IACtB;;IACA,MAAMH,KAAK;EACb,CAAC,CAAC;AACN;AAACY,GAAA,CAlBeD,UAAU;EAAA,QACPpB,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}